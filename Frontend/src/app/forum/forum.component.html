<!-- Fórum bejegyzés -->
<div class="forum" *ngFor="let poszt of Posztok">
  <p class="forumFelhasznaloNev" style="display: inline-block">{{poszt.Cim}}</p>
  <p *ngIf="poszt.PosztoloNeve === felhasznalonev" style="margin-left: 90%; display: inline-block">
  <!--  POSZT MODODSITAS GOMB   -->
    <button (click)="PosztModositasModal(PosztModositas)"><mat-icon style="font-size: 28px">edit</mat-icon></button>
  <!--  POSZT TÖRLÉS GOMB   -->
    <button (click)="forumService.posztTorles(poszt.Poszt_id)"><mat-icon style="color: red; font-size: 28px">delete</mat-icon></button>
  </p>
  <p class="forumCim" (click)="PosztMegniytasModal(PosztMegnyitas, poszt.Poszt_id)"><button>Részletek</button></p>

      <!-- POSZT MEGNYITÁSA -->
  <ng-template #PosztMegnyitas let-modal class="megnyitasModal">
    <div class="container" *ngFor="let posztkommenttel of PosztokKommenttel">
    <div class="modal-header centered megnyitasModal">
      <p class="posztModalCím">{{posztkommenttel.Cim}}</p>
      <p class="posztModalCím">{{posztkommenttel.PosztoloNeve}}</p>
    </div>
    <div class="modal-body centered megnyitasModal">
      <div class="container">
        <div class="row">
          <div>
            <p class="postModalSzoveg">{{posztkommenttel.Szoveg}}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer d-flex justify-content-start megnyitasModal">
     <div class="modal-footer-container">
       <p class="alert alert-success" *ngIf="forumService.kommentHiba === 'Siker'">Komment közzétéve</p>
         <p class="alert alert-danger" *ngIf="forumService.kommentHiba === 'NincsKomment'">Kérem, gépelje be a közzétenni kívánt kommentet</p>

        <!--  KOMMENTEK  -->

       <p style="font-size: larger; font-weight: bolder">Hozzászólások</p>
       <input type="text" name="komment" id="kommentInputLogged" placeholder="Írjon hozzászólást"
              *ngIf="localStorage.getItem('access')"
              [(ngModel)]="ujKomment.Komment"  (keydown.enter)="forumService.kommentLetrehozas(ujKomment, poszt.Poszt_id)">
       <input type="text" name="komment" [disabled]="true" id="kommentInputNotLoggged" placeholder="Írjon hozzászólást"
              *ngIf="!localStorage.getItem('access')"
              [(ngModel)]="ujKomment.Komment"  (keydown.enter)="forumService.kommentLetrehozas(ujKomment, poszt.Poszt_id)">
     </div>
      <div class="modal-footer-container" >
        <div *ngFor="let komment of Kommentek" style="margin: 3% 0 5% 0">
        <p class="komment" style="font-style: italic; font-weight: bold">{{komment.Kommentelo}}</p>
        <p class="komment">{{komment.Komment}}</p>
          <p *ngIf="komment.Kommentelo === felhasznalonev">
            <mat-icon>edit</mat-icon>
        <!--      KOMMENT TÖRLÉS      -->
            <button (click)="forumService.kommentTorles(komment.Komment_id)"><mat-icon style="color: red">delete</mat-icon></button>
          </p>
          <p class="vonal"></p>
        </div>
      </div>
    </div>
    </div>
  </ng-template>

  <!--  POSZT SZERKESZTÉSE   -->

  <ng-template #PosztModositas let-modal class="szerkesztesModal">
    <div class="modal-header centered szerkesztesModal" >
      <p>Poszt szerkesztése</p>
      <button type="button" class="bezaroGomb"  (click)="modal.dismiss('Cross click')">X</button>
    </div>
    <div class="modal-body centered szerkesztesModal">
      <div class="container">
        <div class="row">
          <div class="col-md">
            <p>Poszt címe:</p>
            <p>Poszt szövege:</p>
          </div>
          <div class="col-md">
            <input type="text" class="PosztInput" [(ngModel)]="ujPoszt.Cim">
            <input type="text" class="PosztInput" [(ngModel)]="ujPoszt.Szoveg">
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer centered szerkesztesModal">
      <button type="button" class="btn btn-outline-dark mentesGomb" (click)="forumService.posztModositas(ujPoszt, poszt.Poszt_id)">Mentés</button>
    </div>

  </ng-template>

</div>

<button class="forumHozzaadas"><img src="/assets/img/add.png" (click)="PosztLetrehozasModal(PosztLetrehozas)"></button>

  <!--  POSZT LÉTREHOZÁSA  -->

<ng-template #PosztLetrehozas let-modal class="letrehozasModal">
  <div class="modal-header centered letrehozasModal">
    <p>Új poszt létrehozása</p>
    <button type="button" class="bezaroGomb"  (click)="modal.dismiss('Cross click')">X</button>
  </div>
  <div class="tavtarto">
    <p class="alert alert-success" *ngIf="forumService.posztHiba === 'Siker'">Poszt létrehozása sikeresen megtörtént!</p>
    <p class="alert alert-danger" *ngIf="forumService.posztHiba === 'NincsBejelentkezve'">Először be kell jelentkezni</p>
    <p class="alert alert-danger" *ngIf="forumService.posztHiba === 'NincsCim'"> Kérem adja meg a poszt címét!</p>
    <p class="alert alert-danger" *ngIf="forumService.posztHiba === 'NincsSzoveg'"> Kérem adja meg a poszt szövegét!</p>
  </div>
  <div class="modal-body letrehozasModal">
    <div class="container">
      <div class="row">
        <div class="col-md">
          <p class="PosztLetrehozasAdat"> Poszt címe:</p>
          <p class="PosztLetrehozasAdat">Poszt szövege:</p>
        </div>
        <div class="col-md">
          <input type="text" class="PosztInput" [(ngModel)]="ujPoszt.Cim">
          <input type="text" class="PosztInput" [(ngModel)]="ujPoszt.Szoveg">
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer letrehozasModal">
    <button type="button" class="btn btn-outline-dark mentesGomb" (click)="forumService.posztLetrehozas(ujPoszt)" >Mentés</button>
  </div>
</ng-template>
